package dec3

import (
	"strings"
	"testing"
)

func TestCountTrees(t *testing.T) {
	inMap := strings.Split(`..##.........##.........##.........##.........##.........##.......
#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....
.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........#.#........#.#........#.#........#.#........#
#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...
#...##....##...##....##...##....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#`, "\n")
	numTrees := CountTrees(inMap, 3, 1)

	if numTrees != 7 {
		t.Errorf("Expected 7 trees got %d", numTrees)
	}

	numTrees1 := CountTrees(inMap, 1, 1)
	numTrees2 := CountTrees(inMap, 3, 1)
	numTrees3 := CountTrees(inMap, 5, 1)
	numTrees4 := CountTrees(inMap, 7, 1)
	numTrees5 := CountTrees(inMap, 1, 2)

	product := numTrees1 * numTrees2 * numTrees3 * numTrees4 * numTrees5

	if product != 336 {
		t.Errorf("Expected 336 but got %d", product)
	}
}
